<div class="modal-header">
  <button type="button" class="close" ng-click="close()">&times;</button>
  <h4 class="modal-title" ng-if="entityType == 'reports'">{{ 'REPORTS_FILTERS_ADVANCED_FILTERS_FROM_CATEGORIES' | translate }}</h4>
  <h4 class="modal-title" ng-if="entityType == 'items'">Das categorias...</h4>
</div>

<div class="modal-body">
  <div class="categories_search">
    <span class="glyphicon glyphicon-search search_icon"></span>
    <input type="text" ng-if="entityType == 'reports'" placeholder="{{ 'REPORTS_FILTERS_SEARCH_FOR_CATEGORIES' | translate }}" ng-model="$parent.search">
    <input type="text" ng-if="entityType == 'items'" placeholder="Busque por categorias..." ng-model="$parent.search">
  </div>

  <ul class="fixed-height">
    <li ng-repeat="category in categories | filter: $parent.search">
      <a ng-class="{'selected': isActive(category)}" ng-click="updateCategory(category)"><i class="glyphicon glyphicon-ok" ng-show="isActive(category)"></i>  {{ category.title }}</a>

      <ul ng-if="category.subcategories">
        <li ng-repeat="subcategory in category.subcategories | filter: $parent.search track by $index" ng-style="{'border-color': subcategory.color}">
          <a ng-class="{'selected': isActive(subcategory)}" ng-click="updateCategory(subcategory)"><i class="glyphicon glyphicon-ok" ng-show="isActive(subcategory)"></i>  {{ subcategory.title }}</a>
        </li>
      </ul>
    </li>
  </ul>
</div>

<div class="modal-footer">
   <button type="button" class="btn btn-info btn-custom btn-fat-custom" ng-click="save()">Criar filtro</button>
</div>
