<table class="table custom_table">
  <thead>
  <tr>
    <td class="perimeter-title-cell">
      <span>Título</span>
    </td>
    <td class="perimeter-title-cell">
      <span>Múltiplas linhas?</span>
    </td>
    <td class="perimeter-btn-cell"></td>
  </tr>
  </thead>
  <tbody>
  <tr class="perimeter-table-tr">
    <td class="perimeter-title-cell">
      <input id="fieldAutocomplete" autocomplete="off" ui-autocomplete="customFieldsAutocomplete"
             class="ui-autocomplete-input ng-pristine ng-valid form-control" type="text" ng-model="newField.title">
    </td>
    <td>
      <input type="checkbox" class="pull-right" bs-switch ng-model="newField.multiline">
    </td>
    <td>
      <button promise-btn="fieldPromise" ng-disabled="newField.title.length < 1" class="btn btn-success" ng-click="create(newField)">Adicionar</button>
    </td>
  </tr>
  <tr class="perimeter-table-tr" ng-repeat="field in localFields" style="height: 77px"
      ng-if="localFields && localFields.length > 0">
    <td class="perimeter-title-cell" ng-if="field.editing">
      <input class="form-control" type="text" ng-model="field.title">
    </td>
    <td class="perimeter-title-cell" ng-if="!field.editing">
      <span>{{ field.title }}</span>
    </td>
    <td>
      <input type="checkbox" class="pull-right" bs-switch ng-model="field.multiline" ng-if="field.editing">
      <span ng-if="!field.editing">{{ field.multiline ? 'Sim' : 'Não' }}</span>
    </td>
    <td>
      <a ng-if="!field.editing" href="" class="btn btn-default" ng-click="edit(field)" title="Editar"><i
        class="glyphicon glyphicon-edit"></i></a>
      <a ng-if="!field.editing" href=""
         class="btn btn-danger"
         confirm-dialog
         cd-modal-title="Remover campo personalizado"
         cd-warning-msg="Ao remover um campo personalizado todos os dados preenchidos neste campo nos relatos serão excluídos. Tem certeza que deseja remover o campo {{field.title}}?"
         cd-confirm-text="DELETAR"
         cd-button-label="Remover"
         cd-confirm-function="remove(field)"
         title="Excluir"><i
        class="glyphicon glyphicon-remove"></i></a>

      <a promise-btn="fieldPromise" ng-if="field.editing" href="" class="btn btn-primary" ng-disabled="!field.id" ng-click="save(field)">Salvar</a>
      <a ng-if="field.editing" href="" class="btn btn-default" ng-click="cancel(field)">Cancelar</a>
    </td>
  </tr>
  </tbody>
</table>
